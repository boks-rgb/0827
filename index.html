<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ’ ë³´ì„ë§ˆì„ íƒí—˜ëŒ€</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      font-family: "Pretendard", sans-serif;
      background: #e8f8f7;
      color: #333;
      margin: 0;
      padding: 20px;
      text-align: center;
    }
    .map-container {
      position: relative;
      height: 100px;
      background: url('https://via.placeholder.com/800x100?text=ğŸŒ³+â†’+ğŸŒŠ+â†’+â›°ï¸+â†’+ğŸ’') no-repeat center center;
      background-size: contain;
      margin-bottom: 10px;
    }
    .character-icon {
      position: absolute;
      top: 60px;
      font-size: 32px;
      transition: left 0.5s ease;
    }
    .question-box {
      background: white;
      border-radius: 12px;
      padding: 20px;
      max-width: 800px;
      margin: 0 auto 30px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    textarea {
      width: 90%;
      height: 120px;
      padding: 10px;
      font-size: 16px;
      border: 2px solid #20b2aa;
      border-radius: 8px;
      resize: none;
      display: block;
      margin: 0 auto;
    }
    .buttons {
      margin-top: 20px;
    }
    button {
      padding: 10px 20px;
      font-size: 16px;
      margin: 5px;
      background: #20b2aa;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    .feedback {
      font-weight: bold;
      margin-top: 15px;
      color: #008000;
    }
    .timer {
      font-size: 18px;
      margin: 10px;
    }
    .gems {
      margin-top: 20px;
    }
    .gem {
      font-size: 24px;
      margin: 2px;
      display: inline-block;
    }
    .gem.special {
      font-size: 32px;
      color: #1e90ff;
    }
    .character-select {
      margin-bottom: 20px;
    }
    .character-select button {
      font-size: 24px;
    }
    .summary {
      font-size: 18px;
      margin-top: 30px;
    }
  </style>
</head>
<body>
  <div id="app">
    <h1>ğŸ’ ë³´ì„ë§ˆì„ íƒí—˜ëŒ€ <span id="selectedCharacter">ğŸ±</span></h1>

    <div class="map-container">
      <div class="character-icon" id="movingCharacter" style="left: 0%">ğŸ±</div>
    </div>

    <div class="character-select" id="characterSelect">
      <p>íƒí—˜í•  ìºë¦­í„°ë¥¼ ê³¨ë¼ ì£¼ì„¸ìš”!</p>
      <button onclick="selectCharacter('ğŸ°')">ğŸ°</button>
      <button onclick="selectCharacter('ğŸ±')">ğŸ±</button>
      <button onclick="selectCharacter('ğŸ¦–')">ğŸ¦–</button>
    </div>

    <div class="question-box" id="questionBox" style="display: none;">
      <h2>â“ ì§ˆë¬¸ <span id="questionNum">1</span> / 20</h2>
      <p id="questionText">ì§ˆë¬¸ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</p>
      <textarea id="answerInput" placeholder="ë§ˆìŒì† ìƒê°ì„ ì°¨ë¶„íˆ ì¨ ì£¼ì„¸ìš”~ âœ¨"></textarea>
      <div class="feedback" id="feedback" style="display: none;"></div>
      <div class="timer" id="timer">â±ï¸ 20ì´ˆ</div>
      <div class="buttons">
        <button onclick="prevQuestion()">ì´ì „</button>
        <button onclick="nextQuestion()">ë‹¤ìŒ</button>
      </div>
    </div>

    <div class="gems" id="gems"></div>

    <div class="summary" id="summary" style="display: none;">
      <h2>ğŸ‰ íƒí—˜ ì™„ë£Œ!</h2>
      <p>20ê°œì˜ ì§ˆë¬¸ì„ ëª¨ë‘ ë‹µí–ˆì–´ìš”. ë©‹ì§„ ë³´ì„ì´ ëª¨ì˜€ë„¤ìš”!</p>
      <button onclick="window.print()">ğŸ–¨ï¸ ì €ì¥/ì¸ì‡„</button>
    </div>
  </div>

  <script>
    const questions = [
      "ë¯¼ì´ëŠ” ì™œ ì´ë¦„ ìŠ¤í‹°ì»¤ë¥¼ ë§ì´ ë¶™ì´ê²Œ ë˜ì—ˆë‚˜ìš”?",
      "ë¯¼ì´ê°€ ì²˜ìŒì— ì–´ë–¤ ê¸°ë¶„ì´ì—ˆëŠ”ì§€ ì´ì•¼ê¸°í•´ ë³´ì„¸ìš”.",
      "ë™êµ´ ì† ë³´ì„ ê·¸ë¦¼ ì•ˆì—ì„œ ë¯¼ì´ê°€ ë§Œë‚œ ê´´ë¬¼ì€ ì–´ë–¤ ëª¨ìŠµì´ì—ˆë‚˜ìš”?",
      "ë¯¼ì´ê°€ ì„¸ ëª…ì˜ í´ë¡œë²„ë¥¼ ì²˜ìŒ ë³¸ ì¥ë©´ì„ ë– ì˜¬ë ¤ë³´ì„¸ìš”. ì–´ë–¤ ì¼ì´ ìˆì—ˆë‚˜ìš”?",
      "ë¯¼ì´ëŠ” ì–´ë–¤ ë§ë“¤ì„ ë“¤ìœ¼ë©´ì„œ í˜ì„ ì–»ì—ˆë‚˜ìš”?",
      "ë¯¼ì´ê°€ ìŠ¬í¼í–ˆë˜ ì´ìœ ëŠ” ë¬´ì—‡ì´ë¼ê³  ìƒê°í•˜ë‚˜ìš”?",
      "ëˆ„êµ°ê°€ê°€ ë‚˜ì—ê²Œ ìƒì²˜ ì£¼ëŠ” ë§ì„ í–ˆì„ ë•Œ, ë„ˆëŠ” ì–´ë–»ê²Œ ëŠê¼ˆë‹ˆ?",
      "ë¯¼ì´ê°€ ìš©ê¸°ë¥¼ ë‚¸ ëª¨ìŠµì´ ìˆì—ˆë‹¤ë©´ ë¬´ì—‡ì´ë¼ê³  ìƒê°í•˜ë‚˜ìš”?",
      "ë„ˆë„ 'ë³´ì„' ê°™ì€ ë§ˆìŒì„ ê°€ì§€ê³  ìˆë‹¤ê³  ìƒê°í•˜ë‹ˆ? ì–´ë–¤ ë³´ì„ì´ ìˆì„ê¹Œ?",
      "ì‚¬ëŒë“¤ì—ê²Œ ì´ë¦„ ìŠ¤í‹°ì»¤ë¥¼ ë¶™ì´ë©´ ì•ˆ ë˜ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì¼ê¹Œìš”?",
      "ë™êµ´ ì† ë³´ì„ë“¤ì´ íŠ¹ë³„í–ˆë˜ ì´ìœ ëŠ” ë¬´ì—‡ì´ì—ˆì„ê¹Œìš”?",
      "ë§ˆìŒì˜ ëˆˆì„ ëœ° ìˆ˜ ìˆìœ¼ë ¤ë©´ ì–´ë–¤ ìƒê°ì„ í•´ì•¼ í• ê¹Œìš”?",
      "ë„ˆì˜ â€˜ë³´ì„ë™êµ´â€™ ì•ˆì—ëŠ” ì–´ë–¤ ë³´ì„ë“¤ì´ ìˆ¨ì–´ ìˆì„ê¹Œìš”?",
      "ëˆ„êµ°ê°€ë¥¼ ìœ„ë¡œí•´ì¤€ ì ì´ ìˆë‚˜ìš”? ì–´ë–»ê²Œ ë§í–ˆë‚˜ìš”?",
      "ì‚¬ë‘í•´, ê´œì°®ì•„, ê³ ë§ˆì›Œ' ë§ì€ ì™œ ì†Œì¤‘í• ê¹Œìš”?",
      "ë‚´ê°€ ì˜¤ëŠ˜ ê¹¨ìš°ê³  ì‹¶ì€ ë³´ì„ 3ê°€ì§€ë¥¼ ê³¨ë¼ë³´ì„¸ìš”.",
      "ì‘ì€ ë‚˜ì™€ í° ë‚˜ëŠ” ì–´ë–»ê²Œ ë‹¤ë¥¼ê¹Œìš”?",
      "ë‚˜ëŠ” ì–´ë–¤ ìƒí™©ì—ì„œ ë‚˜ì˜ ë³´ì„(ìš©ê¸°, ë°°ë ¤ ë“±)ì„ ì˜ ì“°ëŠ” ê²ƒ ê°™ë‚˜ìš”?",
      "ì•ìœ¼ë¡œ ë‚˜ëŠ” ì–´ë–»ê²Œ â€˜í° ë‚˜â€™ë¥¼ í‚¤ì›Œê°ˆ ìˆ˜ ìˆì„ê¹Œìš”?",
      "ì •ë§ ë”°ëœ»í•œ ë§ì—ëŠ”, ë‹¤ë¥¸ ì¹œêµ¬ë“¤ë„ í˜ì„ ì–»ì—ˆì„ê¹Œìš”?"
    ];

    const feedbackList = [
      "ì •ì„±ê» ì¨ì£¼ì…”ì„œ ê°ì‚¬í•´ìš”!",
      "ê°ì •ì´ ì˜ ë‹´ê²¼ì–´ìš”.",
      "ì¢‹ì€ í‘œí˜„ì´ì—ìš”! ë‹¹ì‹ ì˜ ë³´ì„ ê°™ì€ ë‹µë³€ì´ì—ìš”.",
      "ì´ì•¼ê¸°ë¥¼ ì˜ í’€ì–´ëƒˆë„¤ìš”.",
      "ë©‹ì§„ ìƒê°ì´ì—ìš”. ë‹¤ë¥¸ ì¹œêµ¬ë“¤ë„ í˜ì„ ì–»ê² ì–´ìš”."
    ];

    let current = 0;
    let answers = Array(20).fill("");
    let selected = "ğŸ±";
    let timer = 20;
    let timerInterval;

    function selectCharacter(char) {
      selected = char;
      document.getElementById("selectedCharacter").textContent = char;
      document.getElementById("movingCharacter").textContent = char;
      document.getElementById("characterSelect").style.display = "none";
      document.getElementById("questionBox").style.display = "block";
      showQuestion();
      startTimer();
    }

    function showQuestion() {
      document.getElementById("questionNum").textContent = current + 1;
      document.getElementById("questionText").textContent = questions[current];
      document.getElementById("answerInput").value = answers[current];
      document.getElementById("feedback").style.display = "none";
      updateMapPosition();
      resetTimer();
    }

    function nextQuestion() {
      const input = document.getElementById("answerInput").value.trim();
      if (input !== "") {
        answers[current] = input;
        showFeedback();
        addGem();
      }
      if (current < questions.length - 1) {
        current++;
        showQuestion();
      } else {
        endExploration();
      }
    }

    function prevQuestion() {
      if (current > 0) {
        current--;
        showQuestion();
      }
    }

    function showFeedback() {
      const feedback = feedbackList[Math.floor(Math.random() * feedbackList.length)];
      document.getElementById("feedback").textContent = "ğŸ’¬ " + feedback;
      document.getElementById("feedback").style.display = "block";
    }

    function addGem() {
      const gem = document.createElement("span");
      gem.textContent = "ğŸ’";
      gem.classList.add("gem");
      if ([4, 14, 19].includes(current)) {
        gem.classList.add("special");
      }
      document.getElementById("gems").appendChild(gem);
    }

    function resetTimer() {
      clearInterval(timerInterval);
      timer = 20;
      document.getElementById("timer").textContent = `â±ï¸ ${timer}ì´ˆ`;
      timerInterval = setInterval(() => {
        timer--;
        document.getElementById("timer").textContent = `â±ï¸ ${timer}ì´ˆ`;
        if (timer === 0) clearInterval(timerInterval);
      }, 1000);
    }

    function updateMapPosition() {
      const moving = document.getElementById("movingCharacter");
      const percent = (current / (questions.length - 1)) * 100;
      moving.style.left = `${percent}%`;
    }

    function endExploration() {
      document.getElementById("questionBox").style.display = "none";
      document.getElementById("summary").style.display = "block";
    }
  </script>
</body>
</html>
